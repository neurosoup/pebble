interface Evaluable {
  weight: Int
  size: Int!
}

type Story implements Evaluable {
  id: ID!
  title: String!
  description: String
  epic: Epic

  weight: Int
  size: Int!
}

type Epic implements Evaluable {
  id: ID!
  title: String! @dgraph(pred: "Epic.name")
  description: String
  stories: [Story!] @hasInverse(field: epic)
  project: Project

  weight: Int
  size: Int!
}

type Project
  @auth(
    query: {
      rule: """
      query ($email: String!) {
          queryProject(filter: { owner: { eq: $email } } ) {
              id
          }
      }
      """
    }
  ) {
  id: ID!
  owner: String! @search(by: [hash])
  name: String!
  vision: String
  epics: [Epic!] @hasInverse(field: project)
}
